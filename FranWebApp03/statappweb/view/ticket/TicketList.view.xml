<mvc:View
    controllerName="sap.ui.demo.nav.controller.ticket.TicketList"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc">
    
    <Page id="ticketListPage" title="{i18n>TicketList}"
		showNavButton="true"
		navButtonPress="onNavBack"
		class="sapUiResponsiveContentPadding">
		<subHeader>
            <Toolbar>
                <SearchField
                    liveChange="onFilterTickets"/>
            </Toolbar>
        </subHeader>
        <ScrollContainer vertical="true" getParent="true">
            <layoutData>
                <FlexItemData growFactor="1"/>
            </layoutData>
            <Table id="ticketsTable"
                mode="SingleSelectMaster"
                items="{
                    path: '/Tickets',
                    filters: [{
                        path: 'description_status',
                        operator: 'NE',
                        value1: 'Closed'
                    }]
                }"
                growing="true"
                growingThreshold="10"
                type="navigation"
                selectionChange="onTicketListItemPress"
                noDataText="No Open Tickets">
                <!--  Column definitions and table header labels -->
                <columns>
                    <Column width="15%">
                        <Text text="Title"/>
                    </Column>
                    <Column width="14%">
                        <Text text="Functional Area"/>
                    </Column>
                    <Column width="23%">
                        <Text text="Description"/>
                    </Column>
                    <Column width="14%">
                        <Text text="Creator"/>
                    </Column>
                    <Column width="14%">
                        <Text text="Assignee"/>
                    </Column>
                    <Column width="8%">
                        <Text text="Priority"/>
                    </Column>
                    <Column width="12%">
                        <Text text="Status"/>
                    </Column>
                </columns>
            
                <!-- Define table field value relationships -->
                <items> 
                    <ColumnListItem type="sap.m.ListType.Navigation">
                        <cells>
                            <ObjectIdentifier text="{ticketTitle}"/>
                            <ObjectIdentifier text="{description_functionalArea}"/>
                            <ObjectIdentifier text="{ticketDescription}"/>
                            <ObjectIdentifier text="{firstName_creator} {lastName_creator}"/>
                            <ObjectIdentifier text="{firstName_assignee} {lastName_assignee}"/>
                            <ObjectNumber
                                number="{description_priority}"
        	                    property="{= ${description_priority} === 'High' ? 'error' : 'None' }"
                            />
                            <ObjectIdentifier title="{description_status}"/>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </ScrollContainer>
    </Page>
</mvc:View>