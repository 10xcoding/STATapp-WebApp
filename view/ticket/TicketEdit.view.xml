<mvc:View
	controllerName="statapp.controller.ticket.TicketEdit"
	xmlns="sap.m"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.ui.layout.form"
	xmlns:t="sap.suite.ui.commons"
	xmlns:core="sap.ui.core"
	busyIndicatorDelay="0" >
	<Page
		id="ticketEditPage"
		title="{i18n>TicketEdit.Title} {ticketId}"
		showNavButton="true"
		navButtonPress="onNavBack"
		class="sapUiResponsiveContentPadding">
		<Panel
			id="editTicketPanel"
			width="auto"
			class="sapUiResponsiveMargin sapUiNoContentPadding">
			<headerToolbar>
				<Toolbar>
					<Title text="{i18n>TicketEdit.ToolbarTitle}" level="H2"/>
					<ToolbarSpacer />
				</Toolbar>
			</headerToolbar>
                <ScrollContainer
                    vertical="true"
                    getParent="true" >
                    <f:SimpleForm
                        id="ticketEditFixedForm"
                        minWidth="1024"
                        layout="ResponsiveGridLayout"
                        labelSpanL="3" labelSpanM="3" emptySpanL="4" emptySpanM="4" columnsL="1" columnsM="1">
                        <f:content>
                            
                            <Toolbar>
                                <Title text="{i18n>TicketEdit.FixedFormTitle}" level="H5" titleStyle="H5"/>
                                <ToolbarSpacer />
                            </Toolbar>
                            
                            <Label text="{i18n>Ticket.Creator}" labelFor="editTicketCreatorInput" />
                            <Input id="editTicketCreatorInput" value="{creator_firstName} {creator_lastName}" editable="false" />
                            <Label text="{i18n>Ticket.DateCreated}" labelFor="editTicketDateCreatedInput" />
                            <Input
                                id="editTicketDateCreatedInput"
                                value="{
                                    path: 'dateCreated',
                                    type: 'sap.ui.model.type.Date',
                                    formatOptions: {
                                        style: 'medium'
                                    }
                                }"
                                editable="false" />
                            <Label text="{i18n>Ticket.DateStarted}" labelFor="editTicketDateStartedInput" />
                            <Input
                                id="editTicketDateStartedInput"
                                value="{
                                    path: 'dateStarted',
                                    type: 'sap.ui.model.type.Date',
                                    formatOptions: {
                                        style: 'medium'
                                    }
                                }"
                                editable="false" />
                            <Label text="{i18n>Ticket.DateClosed}" labelFor="editTicketDateClosedInput" />
                            <Input
                                id="editTicketDateClosedInput"
                                value="{
                                    path: 'dateClosed',
                                    type: 'sap.ui.model.type.Date',
                                    formatOptions: {
                                        style: 'medium'
                                    }
                                }"
                                editable="false" />
                        </f:content>
                    </f:SimpleForm>
                    <f:SimpleForm
                        id="ticketEditEditForm"
                        minWidth="1024"
                        editable="true"
                        layout="ResponsiveGridLayout"
                        labelSpanL="3" labelSpanM="3" emptySpanL="4" emptySpanM="4" columnsL="1" columnsM="1">
                        <f:content>
                        
                            <Toolbar>
                                <Title text="{i18n>TicketEdit.EditFormTitle}" level="H5" titleStyle="H5"/>
                                <ToolbarSpacer />
                                <ToggleButton
                                    icon="sap-icon://edit"
                                    press="onPressEditForm" />
                            </Toolbar>
                            
                            <Label text="{i18n>Ticket.TicketTitle}" required="true" labelFor="editTicketTitle"/>
                            <Input
                                value="{ticketTitle}"
                                id="editTicketTitle"
                                editable="false" />
    						
                            <Label text="{i18n>Ticket.TicketDescription}" required="true" labelFor="editTicketDescription"/>
                            <TextArea
                                value="{ticketDescription}"
                                id="editTicketDescription"
                                editable="false" />
    						
                            <Label text="{i18n>Ticket.FunctionalArea}" required="true" labelFor="editFuncAreaSelect"/>
                            <Select
                                id="editFuncAreaSelect"
                                items="{FuncAreaModel>/FuncAreas}"
                                selectedKey="{functionalArea_value}"
                                enabled="false" >
                                <items>
                                    <core:Item
                                        key="{FuncAreaModel>value}"
                                        text="{FuncAreaModel>description}"
                                    />
                                </items>
                            </Select>
    						
                            <Label text="{i18n>Ticket.Assignee}" required="true" labelFor="editAssigneeInput" />
                            <ComboBox
                                id="editAssigneeInput"
                                type="Text"
                                showSuggestion="true"
                                items="{UserModel>/Users}"
                                selectedKey="{assignee_userId}"
                                editable="false"
                                showSecondaryValues= "true"
                                filterSecondaryValues= "true" >
                                <items>
                                    <core:ListItem
                                        key="{UserModel>userId}"
                                        text="{UserModel>firstName} {UserModel>lastName}"
                                        additionalText="{UserModel>userId}"
                                        />
                                </items>
                            </ComboBox>
	
                            <Label text="{i18n>Ticket.TicketStatus}" required="true" labelFor="editTicketStatusSelect"/>
                            <Select
                                id="editTicketStatusSelect"
                                items="{TicketStatusModel>/TicketStatuses}"
                                selectedKey="{ticketStatus_value}"
                                enabled="false" >
                                <items>
                                    <core:Item
                                        key="{TicketStatusModel>value}"
                                        text="{TicketStatusModel>description}" />
                                </items>
                            </Select>
    						
                            <Label text="{i18n>Ticket.TicketPriority}" required="true" labelFor="editTicketPrioritySelect" />
                            <Select
                                id="editTicketPrioritySelect"
                                items="{TicketPriorityModel>/TicketPriorities}"
                                selectedKey="{ticketPriority_value}"
                                enabled="false" >
                                <items>
                                    <core:Item
                                        key="{TicketPriorityModel>value}"
                                        text="{TicketPriorityModel>description}"
                                    />
                                </items>
                            </Select>
                        </f:content>
                    </f:SimpleForm>
                </ScrollContainer>
		</Panel>
		<footer>
			<OverflowToolbar id="TicketEditFooter">
                <ToolbarSpacer/>
                <Button 
                    type="Reject"
                    text="{i18n>Cancel}"
                    icon="sap-icon://cancel"
                    press="onPressCancel"
                />
                <ToolbarSpacer width="0.1em"/>
                <Button
                    type="Accept"
                    text="{i18n>Save}"
                    icon="sap-icon://save"
                    press="onPressSave"
                />
            </OverflowToolbar>
		</footer>
	</Page>
</mvc:View>